# ============================================
# LTNG News Radar API - Environment Configuration
# ============================================
# Copy this file to .env and update with your actual values

# ============================================
# PROJECT CONFIGURATION
# ============================================
PORT=3500
CHECK_INTERVAL=3000

# ============================================
# TELEGRAM CONFIGURATION
# ============================================

## Bot Telegram
TLG_BOT_TOKEN=your_telegram_bot_token_here
TLG_WEBHOOK_URL=https://your-domain.ngrok-free.dev
TLG_SESSION=your_telegram_session_string_here

## API Telegram Service
TLG_PHONE=+1234567890
TLG_PASSWORD=your_telegram_password
TLG_API_ID=12345678
TLG_API_HASH=your_telegram_api_hash_here

# ============================================
# AI CONFIGURATION (OLLAMA)
# ============================================

## Ollama API URL
### Choose one of the following options:

### Option 1: Local Ollama Server
OLLAMA_API_URL=http://localhost:11434

### Option 2: Remote Ollama Server
# OLLAMA_API_URL=http://192.168.1.100:11434

### Option 3: Cloud Ollama Service
# OLLAMA_API_URL=https://your-ollama-cloud-service.com

## Ollama Models
### Local Models (recommended for similarity and categorization)
OLLAMA_LOCAL_MODEL=qwen2.5:14b
OLLAMA_CLOUD_MODEL=gpt-oss:120b-cloud
OLLAMA_SIMILARITY_MODEL=qwen2.5:14b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

## Ollama API Authentication
### Leave empty if no authentication required
OLLAMA_API_KEY=

## Ollama Configuration
OLLAMA_TIMEOUT=120000
OLLAMA_TEMPERATURE=0.1
OLLAMA_NUM_PREDICT=3000
OLLAMA_NUM_CTX=4096
OLLAMA_TOP_P=0.9
OLLAMA_REPEAT_PENALTY=1.1

## AI Processing Configuration
EMBEDDING_TIMEOUT=10000
EMBEDDING_TEXT_LIMIT=2000
STORY_LOOKBACK_DAYS=2
SIMILARITY_THRESHOLD=0.65
TEXT_COMPARISON_LIMIT=3000
TRUNCATE_TEXT=1500
CONTENT_PREVIEW=3000
TITLE_MAX_LENGTH=200
TITLE_MIN_LENGTH=100

# ============================================
# DATABASE CONFIGURATION (MYSQL)
# ============================================

## Choose one of the following database configurations:

### Option 1: Local MySQL Database
DB_HOST=localhost
DB_USER=your_mysql_username
DB_PASSWORD=your_mysql_password
DB_NAME=ltng_news_radar
DB_PORT=3306

### Option 2: Remote MySQL Database
# DB_HOST=192.168.1.100
# DB_USER=your_remote_mysql_username
# DB_PASSWORD=your_remote_mysql_password
# DB_NAME=your_database_name
# DB_PORT=3306

### Option 3: Cloud MySQL Database (AWS RDS, Google Cloud SQL, etc.)
# DB_HOST=your-database-host.amazonaws.com
# DB_USER=your_cloud_db_username
# DB_PASSWORD=your_cloud_db_password
# DB_NAME=your_cloud_database_name
# DB_PORT=3306

# ============================================
# MEDIA STORAGE (IMAGEKIT)
# ============================================

## ImageKit Configuration
### Sign up at https://imagekit.io/ to get these credentials
IMAGEKIT_PUBLIC_KEY=your_imagekit_public_key_here
IMAGEKIT_PRIVATE_KEY=your_imagekit_private_key_here
IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/your_imagekit_id

# ============================================
# SCRAPING CONFIGURATION
# ============================================

## Scraping Schedules (Cron format)
### Examples:
### Every 30 seconds: */30 * * * * *
### Every 5 minutes: */5 * * * *
### Every hour: 0 * * * *
TELEGRAM_SCRAPE_SCHEDULE=*/30 * * * * *
WEBSITE_SCRAPE_SCHEDULE=*/30 * * * * *

## Content Processing
### Skip patterns (comma-separated keywords to ignore)
SKIP_PATTERNS=advertisement,sponsored,promotion

### Content limits
MIN_CONTENT_LENGTH=100
MAX_CONTENT_LENGTH=10000

# ============================================
# SECURITY CONFIGURATION
# ============================================

## API Security
### Set to 'production' in production environment
NODE_ENV=development

### JWT Secret (generate a strong random string)
JWT_SECRET=your_jwt_secret_key_here

### API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# LOGGING CONFIGURATION
# ============================================

## Log Levels: error, warn, info, debug
LOG_LEVEL=info

## Log File Path
LOG_FILE_PATH=./logs/app.log

# ============================================
# DEVELOPMENT CONFIGURATION
# ============================================

## Development Settings (only for development)
DEBUG_MODE=false
VERBOSE_LOGGING=false
MOCK_AI_RESPONSES=false

# ============================================
# OPTIONAL INTEGRATIONS
# ============================================

## Webhook URLs for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/discord/webhook

## Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=LTNG News Radar <noreply@your-domain.com>

# ============================================
# PERFORMANCE TUNING
# ============================================

## Database Connection Pool
DB_CONNECTION_LIMIT=10
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000

## HTTP Request Timeouts
HTTP_TIMEOUT=30000
SCRAPE_TIMEOUT=60000

## Memory Limits
MAX_MEMORY_USAGE=512MB
GARBAGE_COLLECTION_INTERVAL=300000

# ============================================
# MONITORING & ANALYTICS
# ============================================

## Application Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

## Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# ============================================
# BACKUP CONFIGURATION
# ============================================

## Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# ============================================
# NOTES & DOCUMENTATION
# ============================================

# 1. TELEGRAM SETUP:
#    - Create a bot via @BotFather on Telegram
#    - Get API credentials from https://my.telegram.org/apps
#    - Generate session string using telegram client

# 2. OLLAMA SETUP:
#    - Install Ollama: https://ollama.ai/
#    - Pull required models: ollama pull qwen2.5:14b
#    - Start Ollama server: ollama serve

# 3. DATABASE SETUP:
#    - Create MySQL database and user
#    - Import database schema from /database/schema.sql
#    - Ensure proper permissions are set

# 4. IMAGEKIT SETUP:
#    - Sign up at https://imagekit.io/
#    - Get API keys from dashboard
#    - Configure upload settings

# 5. SECURITY NOTES:
#    - Never commit .env file to version control
#    - Use strong passwords and API keys
#    - Enable SSL/TLS in production
#    - Regularly rotate API keys and passwords

# 6. PRODUCTION DEPLOYMENT:
#    - Set NODE_ENV=production
#    - Use process manager like PM2
#    - Configure reverse proxy (nginx)
#    - Set up monitoring and logging
#    - Configure automated backups