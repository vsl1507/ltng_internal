<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FB Account Manager - Dashboard</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .header {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
        text-align: center;
      }

      .header h1 {
        color: #333;
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .header p {
        color: #666;
        font-size: 1.1em;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
      }

      .stat-card .icon {
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .stat-card h3 {
        color: #666;
        font-size: 0.9em;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 10px;
      }

      .stat-card .value {
        color: #333;
        font-size: 2em;
        font-weight: bold;
      }

      .stat-card.primary {
        border-left: 4px solid #667eea;
      }
      .stat-card.success {
        border-left: 4px solid #10b981;
      }
      .stat-card.warning {
        border-left: 4px solid #f59e0b;
      }
      .stat-card.danger {
        border-left: 4px solid #ef4444;
      }

      .quick-links {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .link-card {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        text-decoration: none;
        color: inherit;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .link-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      }

      .link-card .icon {
        font-size: 3em;
        color: #667eea;
      }

      .link-card .content h3 {
        color: #333;
        margin-bottom: 5px;
      }

      .link-card .content p {
        color: #666;
        font-size: 0.9em;
      }

      .features {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .features h2 {
        color: #333;
        margin-bottom: 20px;
        text-align: center;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .feature-item {
        padding: 20px;
        border-radius: 10px;
        background: #f9fafb;
        transition: background 0.3s ease;
      }

      .feature-item:hover {
        background: #f3f4f6;
      }

      .feature-item .icon {
        font-size: 2em;
        margin-bottom: 10px;
      }

      .feature-item h4 {
        color: #333;
        margin-bottom: 8px;
      }

      .feature-item p {
        color: #666;
        font-size: 0.9em;
        line-height: 1.5;
      }

      .footer {
        text-align: center;
        color: white;
        padding: 20px;
        font-size: 0.9em;
      }

      .status-indicator {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 5px;
        animation: pulse 2s infinite;
      }

      .status-indicator.online {
        background: #10b981;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .button {
        display: inline-block;
        padding: 12px 30px;
        background: #667eea;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        margin: 5px;
      }

      .button:hover {
        background: #5568d3;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .button.secondary {
        background: #6b7280;
      }

      .button.secondary:hover {
        background: #4b5563;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 1.8em;
        }

        .stats-grid,
        .quick-links,
        .features-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üì± LTNG Internal API</h1>
        <p>Professional Facebook Account Management System</p>
        <div style="margin-top: 15px">
          <span class="status-indicator online"></span>
          <span style="color: #10b981; font-weight: 600">System Online</span>
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat-card primary">
          <div class="icon">üìä</div>
          <h3>Total Accounts</h3>
          <div class="value" id="totalAccounts">-</div>
        </div>

        <div class="stat-card success">
          <div class="icon">‚úÖ</div>
          <h3>Active Accounts</h3>
          <div class="value" id="activeAccounts">-</div>
        </div>

        <div class="stat-card warning">
          <div class="icon">‚ö†Ô∏è</div>
          <h3>Checkpoint</h3>
          <div class="value" id="checkpointAccounts">-</div>
        </div>

        <div class="stat-card danger">
          <div class="icon">üîí</div>
          <h3>Locked/Disabled</h3>
          <div class="value" id="lockedAccounts">-</div>
        </div>
      </div>

      <div class="quick-links">
        <a href="/api-docs" class="link-card">
          <div class="icon">üìö</div>
          <div class="content">
            <h3>API Documentation</h3>
            <p>Interactive Swagger UI with all endpoints</p>
          </div>
        </a>

        <a href="/api/fb-accounts" class="link-card">
          <div class="icon">üîó</div>
          <div class="content">
            <h3>API Endpoints</h3>
            <p>Access REST API endpoints directly</p>
          </div>
        </a>

        <a href="/api-docs.json" class="link-card">
          <div class="icon">üìÑ</div>
          <div class="content">
            <h3>OpenAPI Spec</h3>
            <p>Download OpenAPI JSON specification</p>
          </div>
        </a>
      </div>

      <div class="features">
        <h2>üöÄ Key Features</h2>
        <div class="features-grid">
          <div class="feature-item">
            <div class="icon">üîç</div>
            <h4>Advanced Filtering</h4>
            <p>
              Filter accounts by status, friend suggestion, and creation year
              with flexible search options.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">üìÑ</div>
            <h4>Pagination</h4>
            <p>
              Efficient data loading with customizable page size and navigation
              controls.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">üîÑ</div>
            <h4>Bulk Operations</h4>
            <p>
              Update or delete multiple accounts simultaneously to save time and
              effort.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">üîê</div>
            <h4>2FA Support</h4>
            <p>
              Store and manage two-factor authentication secrets securely for
              each account.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">üç™</div>
            <h4>Cookie Management</h4>
            <p>
              Store session cookies data for maintaining authenticated sessions.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">üìä</div>
            <h4>Friend Tracking</h4>
            <p>
              Monitor friend counts and friend suggestion status for each
              account.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">üìù</div>
            <h4>Notes & Comments</h4>
            <p>
              Add custom notes and remarks to track account history and status.
            </p>
          </div>

          <div class="feature-item">
            <div class="icon">‚ö°</div>
            <h4>REST API</h4>
            <p>
              Full RESTful API with standard response format and comprehensive
              error handling.
            </p>
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 30px">
        <a href="/api-docs" class="button">Get Started with API</a>
        <a href="https://github.com/vsl1507" class="button secondary"
          >View on GitHub</a
        >
      </div>

      <div class="footer">
        <p>Built with ‚ù§Ô∏è using Express, TypeScript, and MySQL</p>
        <p style="margin-top: 10px; opacity: 0.8">
          Version 1.0.0 | ¬© 2025 Visal Real Zin II
        </p>
      </div>
    </div>

    <script>
      // Fetch statistics from API
      async function loadStats() {
        try {
          const response = await fetch("/api/fb-accounts?limit=1");
          const data = await response.json();

          if (data.success && data.pagination) {
            document.getElementById("totalAccounts").textContent =
              data.pagination.total.toLocaleString();
          }

          // Fetch status counts
          const statuses = ["ACTIVE", "CHECKPOINT", "LOCKED", "DISABLED"];
          let activeCount = 0;
          let checkpointCount = 0;
          let lockedCount = 0;

          for (const status of statuses) {
            const res = await fetch(
              `/api/fb-accounts?acc_status=${status}&limit=1`
            );
            const statusData = await res.json();

            if (statusData.success && statusData.pagination) {
              const count = statusData.pagination.total;

              if (status === "ACTIVE") activeCount = count;
              else if (status === "CHECKPOINT") checkpointCount = count;
              else if (status === "LOCKED" || status === "DISABLED")
                lockedCount += count;
            }
          }

          document.getElementById("activeAccounts").textContent =
            activeCount.toLocaleString();
          document.getElementById("checkpointAccounts").textContent =
            checkpointCount.toLocaleString();
          document.getElementById("lockedAccounts").textContent =
            lockedCount.toLocaleString();
        } catch (error) {
          console.error("Error loading stats:", error);
          document.getElementById("totalAccounts").textContent = "Error";
        }
      }

      // Load stats on page load
      loadStats();

      // Refresh stats every 30 seconds
      setInterval(loadStats, 30000);
    </script>
  </body>
</html>
